{
  "name": "AI Lead Research Agent - Complete Workflow",
  "description": "Automated lead research workflow that finds, qualifies, and scores prospects using Apollo.io, OpenAI, and Google Sheets",
  "version": "1.0",
  "modules": [
    {
      "id": 1,
      "app": "webhook",
      "operation": "customWebhook",
      "name": "Webhook Trigger",
      "parameters": {
        "hook": "/lead-research-trigger",
        "method": "POST"
      },
      "metadata": {
        "designer": {
          "x": 0,
          "y": 0
        }
      }
    },
    {
      "id": 2,
      "app": "apollo",
      "operation": "searchPeople",
      "name": "Apollo - Search Companies",
      "parameters": {
        "person_titles": ["CEO", "Founder", "Marketing Director", "VP Marketing", "Head of Marketing"],
        "organization_num_employees_ranges": ["11,50", "51,200", "201,500"],
        "person_locations": ["United States", "Canada", "United Kingdom"],
        "organization_industries": ["Computer Software", "Marketing and Advertising", "Internet", "Information Technology and Services"],
        "page": 1,
        "per_page": 25,
        "organization_latest_funding_stage_cd": ["seed", "series_a", "series_b"]
      },
      "metadata": {
        "designer": {
          "x": 300,
          "y": 0
        },
        "restore": {
          "expect": {
            "person_titles": {
              "mode": "chose",
              "items": [
                "CEO",
                "Founder", 
                "Marketing Director",
                "VP Marketing",
                "Head of Marketing"
              ]
            },
            "organization_num_employees_ranges": {
              "mode": "chose",
              "items": [
                "11,50",
                "51,200", 
                "201,500"
              ]
            },
            "person_locations": {
              "mode": "chose",
              "items": [
                "United States",
                "Canada",
                "United Kingdom"
              ]
            }
          }
        }
      }
    },
    {
      "id": 3,
      "app": "builtin",
      "operation": "ArrayIterator",
      "name": "Iterator - Process Each Lead",
      "parameters": {},
      "metadata": {
        "designer": {
          "x": 600,
          "y": 0
        }
      }
    },
    {
      "id": 4,
      "app": "apollo",
      "operation": "enrichPerson",
      "name": "Apollo - Enrich Contact Data",
      "parameters": {
        "email": "{{3.email}}",
        "first_name": "{{3.first_name}}",
        "last_name": "{{3.last_name}}",
        "organization_name": "{{3.organization.name}}"
      },
      "metadata": {
        "designer": {
          "x": 900,
          "y": 0
        }
      }
    },
    {
      "id": 5,
      "app": "openai-gpt-3",
      "operation": "createCompletion",
      "name": "OpenAI - Qualify Lead",
      "parameters": {
        "model": "gpt-4",
        "messages": [
          {
            "role": "system",
            "content": "You are a lead qualification expert. Analyze the provided company information and score the lead from 0-100 based on fit for AI automation services. Consider company size, industry, growth indicators, and technology adoption. Provide a score and 2-sentence justification."
          },
          {
            "role": "user", 
            "content": "Company: {{4.organization.name}}\nIndustry: {{4.organization.industry}}\nSize: {{4.organization.estimated_num_employees}} employees\nWebsite: {{4.organization.website_url}}\nFunding: {{4.organization.latest_funding_stage}}\nTechnologies: {{4.organization.technologies}}\nDescription: {{4.organization.short_description}}\n\nPlease score this lead for AI automation services and provide justification."
          }
        ],
        "max_tokens": 200,
        "temperature": 0.3
      },
      "metadata": {
        "designer": {
          "x": 1200,
          "y": 0
        }
      }
    },
    {
      "id": 6,
      "app": "text-parser",
      "operation": "match",
      "name": "Extract Score from AI Response",
      "parameters": {
        "pattern": "\\b(\\d{1,3})\\b",
        "text": "{{5.choices[].message.content}}"
      },
      "metadata": {
        "designer": {
          "x": 1500,
          "y": 0
        }
      }
    },
    {
      "id": 7,
      "app": "google-sheets",
      "operation": "addRow",
      "name": "Google Sheets - Add Lead to Tracker",
      "parameters": {
        "spreadsheetId": "YOUR_SPREADSHEET_ID",
        "sheetName": "Lead Research Results",
        "values": [
          "{{formatDate(now; 'YYYY-MM-DD HH:mm:ss')}}",
          "{{4.first_name}} {{4.last_name}}",
          "{{4.title}}",
          "{{4.email}}",
          "{{4.phone}}",
          "{{4.organization.name}}",
          "{{4.organization.industry}}",
          "{{4.organization.estimated_num_employees}}",
          "{{4.organization.website_url}}",
          "{{4.organization.linkedin_url}}",
          "{{6.match}}",
          "{{5.choices[].message.content}}",
          "{{if(parseNumber(6.match) >= 70; 'High'; if(parseNumber(6.match) >= 50; 'Medium'; 'Low'))}}"
        ]
      },
      "metadata": {
        "designer": {
          "x": 1800,
          "y": 0
        }
      }
    },
    {
      "id": 8,
      "app": "filter",
      "operation": "condition",
      "name": "Filter - High Quality Leads Only",
      "parameters": {
        "condition": "{{parseNumber(6.match) >= 70}}"
      },
      "metadata": {
        "designer": {
          "x": 2100,
          "y": 0
        }
      }
    },
    {
      "id": 9,
      "app": "google-sheets",
      "operation": "addRow", 
      "name": "Google Sheets - Add to Hot Prospects",
      "parameters": {
        "spreadsheetId": "YOUR_SPREADSHEET_ID",
        "sheetName": "Hot Prospects",
        "values": [
          "{{formatDate(now; 'YYYY-MM-DD HH:mm:ss')}}",
          "{{4.first_name}} {{4.last_name}}",
          "{{4.title}}",
          "{{4.email}}",
          "{{4.phone}}",
          "{{4.organization.name}}",
          "{{4.organization.industry}}",
          "{{4.organization.estimated_num_employees}}",
          "{{4.organization.website_url}}",
          "{{6.match}}",
          "Ready for Outreach"
        ]
      },
      "metadata": {
        "designer": {
          "x": 2400,
          "y": 0
        }
      }
    },
    {
      "id": 10,
      "app": "slack",
      "operation": "createMessage",
      "name": "Slack - Notify Team of Hot Lead",
      "parameters": {
        "channel": "#leads",
        "text": "ðŸ”¥ New Hot Lead Found!\n\n*{{4.first_name}} {{4.last_name}}* - {{4.title}}\n*Company:* {{4.organization.name}} ({{4.organization.estimated_num_employees}} employees)\n*Score:* {{6.match}}/100\n*Email:* {{4.email}}\n*Website:* {{4.organization.website_url}}\n\n*AI Analysis:* {{5.choices[].message.content}}"
      },
      "metadata": {
        "designer": {
          "x": 2700,
          "y": 0
        }
      }
    }
  ],
  "connections": [
    {
      "id": 1,
      "src": {
        "moduleId": 1,
        "portType": "source"
      },
      "dst": {
        "moduleId": 2,
        "portType": "target"
      }
    },
    {
      "id": 2,
      "src": {
        "moduleId": 2,
        "portType": "source"
      },
      "dst": {
        "moduleId": 3,
        "portType": "target"
      }
    },
    {
      "id": 3,
      "src": {
        "moduleId": 3,
        "portType": "source"
      },
      "dst": {
        "moduleId": 4,
        "portType": "target"
      }
    },
    {
      "id": 4,
      "src": {
        "moduleId": 4,
        "portType": "source"
      },
      "dst": {
        "moduleId": 5,
        "portType": "target"
      }
    },
    {
      "id": 5,
      "src": {
        "moduleId": 5,
        "portType": "source"
      },
      "dst": {
        "moduleId": 6,
        "portType": "target"
      }
    },
    {
      "id": 6,
      "src": {
        "moduleId": 6,
        "portType": "source"
      },
      "dst": {
        "moduleId": 7,
        "portType": "target"
      }
    },
    {
      "id": 7,
      "src": {
        "moduleId": 7,
        "portType": "source"
      },
      "dst": {
        "moduleId": 8,
        "portType": "target"
      }
    },
    {
      "id": 8,
      "src": {
        "moduleId": 8,
        "portType": "source"
      },
      "dst": {
        "moduleId": 9,
        "portType": "target"
      }
    },
    {
      "id": 9,
      "src": {
        "moduleId": 9,
        "portType": "source"
      },
      "dst": {
        "moduleId": 10,
        "portType": "target"
      }
    }
  ],
  "metadata": {
    "version": 1,
    "scenario": {
      "roundtrips": 1,
      "maxErrors": 3,
      "autoCommit": false,
      "sequential": false,
      "confidential": false,
      "dataloss": false,
      "dlq": false
    },
    "designer": {
      "orphans": []
    },
    "zone": "us1.make.com"
  },
  "setup_instructions": {
    "step_1": "Import this JSON file into Make.com using the 'Import Blueprint' feature",
    "step_2": "Connect your Apollo.io account and add your API key",
    "step_3": "Connect your OpenAI account and add your API key", 
    "step_4": "Create a Google Sheet with columns: Date, Name, Title, Email, Phone, Company, Industry, Employees, Website, LinkedIn, Score, AI Analysis, Priority",
    "step_5": "Replace 'YOUR_SPREADSHEET_ID' with your actual Google Sheets ID",
    "step_6": "Connect your Slack workspace (optional)",
    "step_7": "Customize the search criteria in the Apollo module to match your ICP",
    "step_8": "Test the workflow with a small batch first",
    "step_9": "Schedule the workflow to run daily or trigger manually via webhook"
  },
  "customization_notes": {
    "apollo_search": "Modify person_titles, organization_industries, and other criteria to match your ideal customer profile",
    "ai_prompt": "Customize the OpenAI prompt in module 5 to reflect your specific service offering",
    "scoring_threshold": "Adjust the score threshold in module 8 (currently set to 70) based on your lead quality needs",
    "notification_channels": "Update Slack channel or add email notifications as needed"
  }
}
